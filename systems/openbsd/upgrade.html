<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>upgrade</title>
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
</head>
<body>
<div id="content">
<h1 class="title">upgrade</h1>
<p>
download the new ram disk kernel and put it in /, reboot the machine,
select this kernel and upgrade.
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">preparation</h2>
<div class="outline-text-2" id="text-1">
<ol class="org-ol">
<li>read the docs
<ul class="org-ul">
<li><code>https://www.openbsd.org/faq/upgrade64.html</code>
</li>
</ul>
</li>
<li>need to download kernel
<ul class="org-ul">
<li><code>wget https://cdn.openbsd.org/pub/OpenBSD/6.4/amd64/bsd.rd</code>
</li>
</ul>
</li>
<li>download sig
<ul class="org-ul">
<li><code>wget https://cdn.openbsd.org/pub/OpenBSD/6.4/amd64/SHA256.sig</code>
</li>
</ul>
</li>
<li>verify
<ul class="org-ul">
<li><code>signify -C -p /etc/signify/openbsd-64-base.pub -x SHA256.sig bsd.rd</code>
</li>
</ul>
</li>
<li>put into / and boot this kernel
<ul class="org-ul">
<li><code>boot bsd.rd</code>
</li>
</ul>
</li>
</ol>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">performing the update</h2>
<div class="outline-text-2" id="text-2">
<ul class="org-ul">
<li>openbsd kernels
<ul class="org-ul">
<li>.mp ; multiprocessor
</li>
<li>.rd ; ram disk, use to install, upgrade
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">afterboot</h2>
<div class="outline-text-2" id="text-3">
<ul class="org-ul">
<li><code>sysmerge</code> ; config files
</li>
<li><code>pkg_add -u</code>
<ul class="org-ul">
<li>check <code>PKG_PATH</code>
</li>
<li><code>. ./root/.profile</code> ; dot source after changing
</li>
</ul>
</li>
<li><code>syspatch</code>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">references</h2>
<div class="outline-text-2" id="text-4">
<p>
<a href="https://www.romanzolotarev.com/openbsd/vultr-upgrade.html">https://www.romanzolotarev.com/openbsd/vultr-upgrade.html</a>
</p>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="validation"></p>
</div>
</body>
</html>
